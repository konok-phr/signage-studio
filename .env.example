# ============================================
# DIGITAL SIGNAGE - ENVIRONMENT CONFIGURATION
# ============================================
# Copy this file to .env and fill in your values

# ============================================
# BACKEND PROVIDER OPTIONS
# ============================================
# Choose your backend providers:
# - supabase: Use Supabase cloud services
# - postgres: Use local PostgreSQL database
# - local: Use local filesystem/JWT auth

DATABASE_PROVIDER=postgres    # supabase | postgres
AUTH_PROVIDER=local           # supabase | local
STORAGE_PROVIDER=local        # supabase | local | s3

# ============================================
# POSTGRESQL CONFIGURATION
# (Required when DATABASE_PROVIDER=postgres)
# ============================================
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=signage_user
POSTGRES_PASSWORD=your_secure_password_here
POSTGRES_DATABASE=signage_db
POSTGRES_SSL=false

# Connection pool settings
POSTGRES_POOL_MIN=2
POSTGRES_POOL_MAX=10

# ============================================
# JWT AUTHENTICATION
# (Required when AUTH_PROVIDER=local)
# ============================================
# Generate a secure secret: openssl rand -base64 32
JWT_SECRET=your-secret-key-minimum-32-characters-long
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# ============================================
# LOCAL FILE STORAGE
# (Required when STORAGE_PROVIDER=local)
# ============================================
STORAGE_PATH=./uploads
STORAGE_URL=http://localhost:3000/uploads
STORAGE_MAX_FILE_SIZE=104857600  # 100MB in bytes

# ============================================
# S3-COMPATIBLE STORAGE (MinIO, AWS S3, etc.)
# (Required when STORAGE_PROVIDER=s3)
# ============================================
S3_ENDPOINT=http://localhost:9000
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin
S3_BUCKET=signage-media
S3_REGION=us-east-1
S3_USE_SSL=false

# ============================================
# SUPABASE CONFIGURATION
# (Required when using Supabase providers)
# ============================================
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_PUBLISHABLE_KEY=your-anon-key

# ============================================
# APPLICATION SETTINGS
# ============================================
PORT=3000
NODE_ENV=development  # development | production
APP_URL=http://localhost:3000

# Vite dev server (for development)
VITE_APP_URL=http://localhost:5173

# ============================================
# OPTIONAL: EMAIL CONFIGURATION
# (For password reset, email verification)
# ============================================
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=your-email@example.com
SMTP_PASSWORD=your-email-password
SMTP_FROM=noreply@example.com

# ============================================
# OPTIONAL: REDIS CACHE
# (For session caching, rate limiting)
# ============================================
REDIS_URL=redis://localhost:6379

# ============================================
# OPTIONAL: LOGGING
# ============================================
LOG_LEVEL=info  # debug | info | warn | error
LOG_FORMAT=json # json | pretty

# ============================================
# SECURITY
# ============================================
# Comma-separated list of allowed origins for CORS
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# Rate limiting (requests per minute per IP)
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW_MS=60000
